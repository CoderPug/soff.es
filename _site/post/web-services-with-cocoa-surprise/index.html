<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <title>samsoff.es - Web Services with Cocoa Surprise</title>
    <link href="http://feeds.feedburner.com/samsoffes/blog" rel="alternate" title="samsoff.es" type="application/atom+xml" />
    <link href="http://feeds.feedburner.com/samsoffes/the-experiment" rel="alternate" title="The Experiment Podcast" type="application/atom+xml" />
    <link href="/stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/iphone.css" media="only screen and (max-device-width: 480px)" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
    <meta name="viewport" content="width=320, user-scalable=no" />
  </head>
  <body>
    <div id="border"></div>
    <div class="wrapper">
    	<div id="header" class="clear">
    		<h1><a href="/">sam<span>soff.es</span></a></h1>
    		<div>
      		<ul class="clear">
      			<li class="blog"><a href="/">Blog</a></li>
      			<li class="music"><a href="/music">Music</a></li>
      			<li class="about"><a href="/about">About</a></li>
      		</ul>
      	</div>
    	</div>
    	    	
      
<div class="post">
  <div class="title">
    <h2><a href="/post/web-services-with-cocoa-surprise">Web Services with Cocoa Surprise</a></h2>
    <p class="meta">Posted 15 Jun 2009</p>
  </div>
  <div class="content">
    <p>This week I have a talk at the first <a href="http://cocoaokc.org">Oklahoma City CocoaHeads</a> meeting. I was going to talk about transferring data from web services with plists. I spend most of the day working on SSConnection, my simple Foundation class for easily transferring plist data from a web service to a Cocoa application.</p>

<p>I was so into plists because at the Austin iPhone Tech talk I attended, they encouraged you to transfer data in plists because it had native parsing. I have to admit the native parsing is quite awesome. One method and everything is all parsed and ready.</p>

<p>I was using <a href="http://www.json.org/">JSON</a> (javascript object notation) to transfer everything with the <a href="http://code.google.com/p/json-framework">JSON Framework</a>. I had started switching everything to use plists. I spend a ton of time writing a PHP class to convert arrays to and from plist strings.</p>

<p>When I was preparing for my talk I decided to do some benchmarks to show how much more awesome plists were than JSON. The plist version was about 8 times faster than my <a href="http://code.google.com/p/json-framework">JSON Framework</a> version. I was pretty happy with that result. My friend, <a href="http://twitter.com/withfoam">Jake</a>, said he was using <a href="http://code.google.com/p/touchcode/">TouchJSON</a> to parse JSON in his apps, so I figured I'd go ahead and benchmark that one too. I was expecting <a href="http://code.google.com/p/json-framework">JSON Framework</a> to beat it because the interface to the <a href="http://code.google.com/p/json-framework">JSON Framework</a> is a lot simpler than the interface to <a href="http://code.google.com/p/touchcode/">TouchJSON</a>.</p>

<p>What I found was <strong>very</strong> surprising. <a href="http://code.google.com/p/touchcode/">TouchJSON</a> actually beat plists. It was slightly faster in every test I ran. This is awesome because plists have a much larger file size. They are usually about twice as big as JSON files due to all of the extra markup.</p>

<p>I am keeping everything using JSON now instead of switching to plist. JSON will transfer twice as fast and parse faster than plists do. Awesome.</p>

<p>Sorry to everyone I preached plists to. I assumed Apple would be correct. They were not.</p>

<p><strong>Update 10/29/09:</strong> Several people have suggested using binary plists instead, as they are actually much smaller than XML. I chose the XML style ones because they were much easier to manipulate. Hopefully there is an implementation of <code>plutil -convert</code> for Ruby out there.</p>

  </div>
</div>



    </div>
    <div id="footer" class="wrapper">
    	<p class="clear">
    	    <span>Copyright <a href="/">Sam Soffes</a> 2005-2010.</span>
    	    <span><a href="http://github.com/samsoffes/samsoff.es" target="_blank" rel="external nofollow">View source on GitHub</a>.</span>
      </p>
    </div>
    <script src="/javascripts/application.js" type="text/javascript"></script>
    <script type="text/javascript">var gaJsHost=(("https:"==document.location.protocol)?"https://ssl.":"http://www.");document.write(unescape("%3Cscript src='"+gaJsHost+"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try{var pageTracker=_gat._getTracker("UA-5609322-1");pageTracker._trackPageview();}catch(err){}</script>
    <script type="text/javascript">_qoptions={qacct:"p-1crX9oZZZMDA6"};</script><script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script><noscript><img src="http://pixel.quantserve.com/pixel/p-1crX9oZZZMDA6.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/></noscript>
  </body>
</html>
